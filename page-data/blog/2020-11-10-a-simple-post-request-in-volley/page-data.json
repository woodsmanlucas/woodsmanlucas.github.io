{
    "componentChunkName": "component---src-pages-blog-mdx-slug-js",
    "path": "/blog/2020-11-10-a-simple-post-request-in-volley/",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"layout\": \"post\",\n  \"hidden\": false,\n  \"title\": \"A simple post in Volley\",\n  \"date\": \"2020-11-10\",\n  \"categories\": \"android Volley android-studio kotlin tech\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This is a continuation to my series on Volley. If you read my previous posts (\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://woodsmanlucas.github.io/android/volley/android-studio/kotlin/2020/11/07/Getting-Started-with-Volley.html\"\n  }, \"the first\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://woodsmanlucas.github.io/2020/11/09/Volley-a-simple-get-request.html\"\n  }, \"the second\"), \") hopefully you are starting to get a grasp of how Volley works. Maybe you even did some side reading in the official documentation and have a great understanding. And maybe if I'm lucky you even noticed that in the get request we specify the method in the String request:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\"\n  }, \"    val stringRequest = StringRequest(Request.Method.GET, url, ...\\n\")), mdx(\"p\", null, \"So this post is going to be about how to make a post request so lets change that right now to this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\"\n  }, \"    val stringRequest = StringRequest(Request.Method.POST, url, ... \\n\")), mdx(\"p\", null, \"I also went ahead and changed the url to that of my site \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://sonarmusic.social\"\n  }, \"sonarmusic.social\"), \" but, you can use any post link:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\"\n  }, \"    val url = \\\"https://www.sonarmusic.social/api/auth/register\\\"\\n\")), mdx(\"p\", null, \"Next I added the json body just below the url:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\"\n  }, \"    val url = \\\"https://www.google.com\\\"\\n    val jsonBody = JSONObject()\\n    jsonBody.put(\\\"email\\\", \\\"lucas@sonarmusic.social\\\")\\n    jsonBody.put(\\\"username\\\", \\\"Lucas\\\")\\n    jsonBody.put(\\\"firstName\\\", \\\"Lucas\\\")\\n    jsonBody.put(\\\"lastName\\\", \\\"Johnson\\\")\\n    jsonBody.put(\\\"password\\\", \\\"P@ssw0rd\\\")\\n    jsonBody.put(\\\"userType\\\", \\\"user\\\")\\n    val requestBody = jsonBody.toString()\\n\")), mdx(\"p\", null, \"Now in order to override the functions within the string request and add in the body to the function we have to declare the string request as an object:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\"\n  }, \"    val stringRequest = object : StringRequest(Request.Method.POST, url, ...\\n\")), mdx(\"p\", null, \"Then lets override the functions and add in a body!\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\"\n  }, \"    val stringRequest = object : StringRequest(Request.Method.POST, url, ...) {\\n            override fun getBodyContentType(): String {\\n                return \\\"application/json\\\"\\n            }\\n            @Throws(AuthFailureError::class)\\n            override fun getBody(): ByteArray {\\n                return requestBody.toByteArray()\\n            }\\n    }\\n\")), mdx(\"p\", null, \"Notice that I added a content type to the request as well. Now let's run this and see if it works.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/assets/2020-11-10-SimplePost/FirstTry.png\",\n    \"alt\": \"My First Try didn't work...\"\n  })), mdx(\"p\", null, \"Now its kind of hard to read but it says \\\"That didn't work\\\". I guess we are hitting our error statement. Notice it also says \\\"Unexpected response code 400\\\". We all know what that means... Bad Data. Let's see if we can add in a couple more lines and get to the bottom of this.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-kotlin\"\n  }, \"Response.ErrorListener { error ->\\nval responseBody = String(error.networkResponse.data, UTF_8)\\nprintln(responseBody)\\n})\\n\")), mdx(\"p\", null, \"Again we will have to hit alt-Enter on this UTF_8 to import the character type. Now lets run again and see what happens:\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"/assets/2020-11-10-SimplePost/TryingAgainWithErrors.png\",\n    \"alt\": \"Now we can see what is going on\"\n  })), mdx(\"p\", null, \"Oh boy, looks like my email already exists! Let's try again with a different email. If your not a musician and aren't planning on using sonar please login and delete your account once you are done. And on that note of spectacular failure I'm going to leave you to get your post running as an exercise. If you have any problems you can tweet me and I will try to get back to you as soon as reasonably possible.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"A simple post in Volley","date":"November 10, 2020"}}},"pageContext":{"id":"b5b54035-bf58-568d-bbca-bde62b81c33b","slug":"2020-11-10-A-simple-post-request-in-Volley","__params":{"slug":"2020-11-10-a-simple-post-request-in-volley"}}},
    "staticQueryHashes": []}