<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta data-react-helmet="true" name="viewport" content="initial-scale=1, width=device-width"/><meta name="generator" content="Gatsby 4.5.3"/><style data-emotion="css-global o6gwfi">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:400;font-size:1rem;line-height:1.5;letter-spacing:0.00938em;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="css 1qsxih2">.css-1qsxih2{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.css-1qsxih2{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.css-1qsxih2{max-width:1200px;}}</style><title data-react-helmet="true"></title><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&amp;display=swap" rel="stylesheet"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/webpack-runtime-9a8937742c8b2293b08d.js"/><link as="script" rel="preload" href="/framework-d6d5e2b89c78b2abaef7.js"/><link as="script" rel="preload" href="/app-8205409e32c6c46524d0.js"/><link as="script" rel="preload" href="/117fb336e4bc1ede79596e75b5ae5d2880838c24-251e52b45b198ee7cf57.js"/><link as="script" rel="preload" href="/component---src-pages-blog-mdx-slug-js-52a611415d615843b3a6.js"/><link as="fetch" rel="preload" href="/page-data/blog/2020-11-09-volley-a-simple-get-request/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><title>A simple Volley Request</title><main><h1>A simple Volley Request</h1><div class="MuiContainer-root MuiContainer-maxWidthLg css-1qsxih2"><p>November 09, 2020</p><p>Hey so, today I&#x27;m going to go over how to make a simple http get request in Volley. I will be following this <a href="https://developer.android.com/training/volley/simple">page</a>.</p><p>First, we will have to enable internet permissions. This will allow us to communicate with the internet with Volley. So add this line to your AndroidManifest.xml file.</p><pre><code class="language-kotlin">    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
</code></pre><p>I placed inside the manifest tag just above my application tag. You should be able to place it anywhere as long as it is not in the application tag &amp; as long as it is inside the manifest tag.</p><p>The next step is the request itself. I will essentially just follow the official documentation I sited above for this. Lets start by adding a new request Queue. You can make one manually which allows you to have a more fine grained control over the queue itself, but I will just be using the newRequestQueue function that volley provides. To read more about making a RequestQueue manually go <a href="https://developer.android.com/training/volley/requestqueue">here</a>.</p><pre><code class="language-kotlin">    val queue = Volley.newRequestQueue(this)
</code></pre><p>Note that the keyword <strong>this</strong> is the activity that you are working in so if you put this code in a fragment it will not work. I will go back and explain how to fix that issue in a later post.</p><p>Now we will instantiate the url and make the post. I will be using a print statement but the tutorial I am following uses a textView so that may be worth noting.</p><pre><code class="language-kotlin">    val queue = Volley.newRequestQueue(this)
    val url = &quot;https://www.google.com&quot;

    // Request a response from the provided URL.
    val stringRequest = StringRequest(Request.Method.GET, url,
        Response.Listener&lt;String&gt; { response -&gt;
            // Display the first 500 characters of the response string.
            println(&quot;Response is: ${response.substring(0, 500)}&quot;)
        },
        Response.ErrorListener { println(&quot;That didn&#x27;t work!&quot; )})

    // Add the request to the RequestQueue (and run the request.)
    queue.add(stringRequest)
</code></pre><p>Be ready with alt-Enter to add the required dependencies into your Activity. In case you have any problems with that here is what my imports look like:</p><pre><code class="language-kotlin">import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import com.android.volley.Request
import com.android.volley.Response
import com.android.volley.toolbox.StringRequest
import com.android.volley.toolbox.Volley
</code></pre><p>Then wah-la we have a response:
<img src="/assets/2020-11-10-SimpleGet/Response.png" alt="An http response"/></p><p>Oh and also in case someone stops the activity you might want to add this code:</p><pre><code class="language-kotlin">protected fun onStop() {
    super.onStop()
    requestQueue?.cancelAll(TAG)
}
</code></pre></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2020-11-09-volley-a-simple-get-request/";window.___webpackCompilationHash="eef3bc509b5256aab16d";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-bb53d728883c387f23a4.js"],"app":["/app-8205409e32c6c46524d0.js"],"component---src-pages-404-js":["/component---src-pages-404-js-4cadfaafd24a7cb04fe5.js"],"component---src-pages-blog-mdx-slug-js":["/component---src-pages-blog-mdx-slug-js-52a611415d615843b3a6.js"],"component---src-pages-index-js":["/component---src-pages-index-js-82dc283a0c1b63fabaf1.js"],"component---src-pages-tech-js":["/component---src-pages-tech-js-1bbfeea0cfbe7e9ad0b6.js"],"component---src-pages-travel-js":["/component---src-pages-travel-js-78f4a18dcd47e15365af.js"]};/*]]>*/</script><script src="/polyfill-bb53d728883c387f23a4.js" nomodule=""></script><script src="/component---src-pages-blog-mdx-slug-js-52a611415d615843b3a6.js" async=""></script><script src="/117fb336e4bc1ede79596e75b5ae5d2880838c24-251e52b45b198ee7cf57.js" async=""></script><script src="/app-8205409e32c6c46524d0.js" async=""></script><script src="/framework-d6d5e2b89c78b2abaef7.js" async=""></script><script src="/webpack-runtime-9a8937742c8b2293b08d.js" async=""></script></body></html>